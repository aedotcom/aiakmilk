import{c as u,bw as f,j as e,G as r,S as d,bv as j,bx as I,I as P,T as c,by as S,L as b,bz as B,a as D,bA as T,bB as q,P as W,bC as M}from"./index-B4r2VmdQ.js";import{A as R}from"./AuthDivider-BvYnf6VX.js";import{A as $}from"./AuthWrapper-DsLPUGph.js";import{F as G,c as V,a as g}from"./formik.esm-CML5bJcM.js";import{u as H}from"./useScriptRef-Cwldc2FU.js";import{I as w}from"./InputLabel-DoibUqKx.js";import{F as p}from"./FormHelperText-BMdZsmyD.js";import{E as K,a as O}from"./Eye-1musJ8bg.js";import{F as J}from"./FormControlLabel-B8M3iYcb.js";import{C as N}from"./Checkbox-BlElScPJ.js";import"./AuthBackground-BXMWMUfU.js";function y({forgot:o}){const[v,z]=u.useState(!1),{isLoggedIn:k,login:A}=f(),h=H(),[m,C]=u.useState(!1),L=()=>{C(!m)},E=s=>{s.preventDefault()};return e.jsx(e.Fragment,{children:e.jsx(G,{initialValues:{email:"info@phoenixcoded.co",password:"123456",submit:null},validationSchema:V().shape({email:g().email("Must be a valid email").max(255).required("Email is required"),password:g().required("Password is required").test("no-leading-trailing-whitespace","Password can not start or end with spaces",s=>s===s.trim()).max(10,"Password must be less than 10 characters")}),onSubmit:async(s,{setErrors:t,setStatus:i,setSubmitting:n})=>{try{const a=s.email.trim();await A(a,s.password),h.current&&(i({success:!0}),n(!1),T("api/menu/dashboard",q))}catch(a){console.error(a),h.current&&(i({success:!1}),t({submit:a.message}),n(!1))}},children:({errors:s,handleBlur:t,handleChange:i,handleSubmit:n,isSubmitting:a,touched:l,values:x})=>e.jsx("form",{noValidate:!0,onSubmit:n,children:e.jsxs(r,{container:!0,spacing:3,children:[e.jsxs(r,{size:12,children:[e.jsxs(d,{sx:{gap:1},children:[e.jsx(w,{htmlFor:"email-login",children:"회원번호"}),e.jsx(j,{id:"email-login",type:"email",value:x.email,name:"email",onBlur:t,onChange:i,placeholder:"Enter email address",fullWidth:!0,error:!!(l.email&&s.email)})]}),l.email&&s.email&&e.jsx(p,{error:!0,id:"standard-weight-helper-text-email-login",children:s.email})]}),e.jsxs(r,{size:12,children:[e.jsxs(d,{sx:{gap:1},children:[e.jsx(w,{htmlFor:"password-login",children:"패스워드"}),e.jsx(j,{fullWidth:!0,error:!!(l.password&&s.password),id:"-password-login",type:m?"text":"password",value:x.password,name:"password",onBlur:t,onChange:i,endAdornment:e.jsx(I,{position:"end",children:e.jsx(P,{"aria-label":"toggle password visibility",onClick:L,onMouseDown:E,edge:"end",color:"secondary",children:m?e.jsx(K,{}):e.jsx(O,{})})}),placeholder:"Enter password"})]}),l.password&&s.password&&e.jsx(p,{error:!0,id:"standard-weight-helper-text-password-login",children:s.password})]}),e.jsx(r,{sx:{mt:-1},size:12,children:e.jsxs(d,{direction:"row",sx:{gap:2,justifyContent:"space-between",alignItems:"center"},children:[e.jsx(J,{control:e.jsx(N,{checked:v,onChange:F=>z(F.target.checked),name:"checked",color:"primary",size:"small"}),label:e.jsx(c,{variant:"h6",children:"Keep me sign in"})}),e.jsx(S,{variant:"h6",component:b,to:k&&o?o:"/forgot-password",color:"text.primary",children:"Forgot Password?"})]})}),s.submit&&e.jsx(r,{size:12,children:e.jsx(p,{error:!0,children:s.submit})}),e.jsx(r,{size:12,children:e.jsx(B,{children:e.jsx(D,{disableElevation:!0,disabled:a,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Login"})})})]})})})})}y.propTypes={forgot:W.string};function oe(){const{isLoggedIn:o}=f();return e.jsx($,{children:e.jsxs(r,{container:!0,spacing:2,children:[e.jsx(r,{sx:{textAlign:"center"},size:12,children:e.jsx(M,{})}),e.jsx(r,{size:12,children:e.jsx(R,{children:e.jsx(c,{variant:"body1",children:"---------"})})}),e.jsx(r,{size:12,children:e.jsxs(d,{direction:"row",sx:{justifyContent:"space-between",alignItems:"baseline",mb:{xs:-.5,sm:.5}},children:[e.jsx(c,{variant:"h3",children:"로그인"}),e.jsx(c,{component:b,to:o?"/auth/register":"/register",variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"Don't have an account?"})]})}),e.jsx(r,{size:12,children:e.jsx(y,{forgot:"/auth/forgot-password"})})]})})}export{oe as default};
