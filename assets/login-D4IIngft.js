import{g as X,f as Y,r as L,h as J,U as Q,V as Z,Y as _,T as x,j as e,y as I,s as M,x as B,m as ee,q as N,$ as U,G as o,S as v,X as T,a0 as se,I as re,a1 as ae,L as W,a2 as oe,a as te,a3 as le,a4 as ne,P as ie,a5 as ce}from"./index-BmlOz1Vy.js";import{A as de}from"./AuthDivider-D5uAHgk7.js";import{A as me}from"./AuthWrapper-C78mXgYF.js";import{F as pe,c as ue,a as $}from"./formik.esm-CdjIJ_Py.js";import{u as he}from"./useScriptRef-jxvMH27j.js";import{I as D}from"./InputLabel-CIxjAbQt.js";import{F as z}from"./FormHelperText-BlFYRxhR.js";import{E as xe,a as be}from"./Eye-x7uODOBq.js";import{C as ge}from"./Checkbox-RUiW0xb_.js";import"./AuthBackground-YfOw3jI6.js";function fe(s){return Y("MuiFormControlLabel",s)}const f=X("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),je=s=>{const{classes:a,disabled:l,labelPlacement:t,error:b,required:d}=s,n={root:["root",l&&"disabled",`labelPlacement${B(t)}`,b&&"error",d&&"required"],label:["label",l&&"disabled"],asterisk:["asterisk",b&&"error"]};return ee(n,fe,a)},we=M("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(s,a)=>{const{ownerState:l}=s;return[{[`& .${f.label}`]:a.label},a.root,a[`labelPlacement${B(l.labelPlacement)}`]]}})(N(({theme:s})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${f.disabled}`]:{cursor:"default"},[`& .${f.label}`]:{[`&.${f.disabled}`]:{color:(s.vars||s).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:a})=>a==="start"||a==="top"||a==="bottom",style:{marginLeft:16}}]}))),ye=M("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(s,a)=>a.asterisk})(N(({theme:s})=>({[`&.${f.error}`]:{color:(s.vars||s).palette.error.main}}))),Ce=L.forwardRef(function(a,l){const t=J({props:a,name:"MuiFormControlLabel"}),{checked:b,className:d,componentsProps:n={},control:m,disabled:k,disableTypography:F,inputRef:r,label:p,labelPlacement:i="end",name:g,onChange:c,required:u,slots:j={},slotProps:S={},value:Pe,...G}=t,w=Q(),E=k??m.props.disabled??(w==null?void 0:w.disabled),A=u??m.props.required,R={disabled:E,required:A};["checked","name","onChange","value","inputRef"].forEach(P=>{typeof m.props[P]>"u"&&typeof t[P]<"u"&&(R[P]=t[P])});const H=Z({props:t,muiFormControl:w,states:["error"]}),y={...t,disabled:E,labelPlacement:i,required:A,error:H.error},q=je(y),K={slots:j,slotProps:{...n,...S}},[O,C]=_("typography",{elementType:x,externalForwardedProps:K,ownerState:y});let h=p;return h!=null&&h.type!==x&&!F&&(h=e.jsx(O,{component:"span",...C,className:I(q.label,C==null?void 0:C.className),children:h})),e.jsxs(we,{className:I(q.root,d),ownerState:y,ref:l,...G,children:[L.cloneElement(m,R),A?e.jsxs("div",{children:[h,e.jsxs(ye,{ownerState:y,"aria-hidden":!0,className:q.asterisk,children:[" ","*"]})]}):h]})});function V({forgot:s}){const[a,l]=L.useState(!1),{isLoggedIn:t,login:b}=U(),d=he(),[n,m]=L.useState(!1),k=()=>{m(!n)},F=r=>{r.preventDefault()};return e.jsx(e.Fragment,{children:e.jsx(pe,{initialValues:{email:"info@phoenixcoded.co",password:"123456",submit:null},validationSchema:ue().shape({email:$().email("Must be a valid email").max(255).required("Email is required"),password:$().required("Password is required").test("no-leading-trailing-whitespace","Password can not start or end with spaces",r=>r===r.trim()).max(10,"Password must be less than 10 characters")}),onSubmit:async(r,{setErrors:p,setStatus:i,setSubmitting:g})=>{try{const c=r.email.trim();await b(c,r.password),d.current&&(i({success:!0}),g(!1),le("api/menu/dashboard",ne))}catch(c){console.error(c),d.current&&(i({success:!1}),p({submit:c.message}),g(!1))}},children:({errors:r,handleBlur:p,handleChange:i,handleSubmit:g,isSubmitting:c,touched:u,values:j})=>e.jsx("form",{noValidate:!0,onSubmit:g,children:e.jsxs(o,{container:!0,spacing:3,children:[e.jsxs(o,{size:12,children:[e.jsxs(v,{sx:{gap:1},children:[e.jsx(D,{htmlFor:"email-login",children:"회원번호"}),e.jsx(T,{id:"email-login",type:"email",value:j.email,name:"email",onBlur:p,onChange:i,placeholder:"Enter email address",fullWidth:!0,error:!!(u.email&&r.email)})]}),u.email&&r.email&&e.jsx(z,{error:!0,id:"standard-weight-helper-text-email-login",children:r.email})]}),e.jsxs(o,{size:12,children:[e.jsxs(v,{sx:{gap:1},children:[e.jsx(D,{htmlFor:"password-login",children:"패스워드"}),e.jsx(T,{fullWidth:!0,error:!!(u.password&&r.password),id:"-password-login",type:n?"text":"password",value:j.password,name:"password",onBlur:p,onChange:i,endAdornment:e.jsx(se,{position:"end",children:e.jsx(re,{"aria-label":"toggle password visibility",onClick:k,onMouseDown:F,edge:"end",color:"secondary",children:n?e.jsx(xe,{}):e.jsx(be,{})})}),placeholder:"Enter password"})]}),u.password&&r.password&&e.jsx(z,{error:!0,id:"standard-weight-helper-text-password-login",children:r.password})]}),e.jsx(o,{sx:{mt:-1},size:12,children:e.jsxs(v,{direction:"row",sx:{gap:2,justifyContent:"space-between",alignItems:"center"},children:[e.jsx(Ce,{control:e.jsx(ge,{checked:a,onChange:S=>l(S.target.checked),name:"checked",color:"primary",size:"small"}),label:e.jsx(x,{variant:"h6",children:"Keep me sign in"})}),e.jsx(ae,{variant:"h6",component:W,to:t&&s?s:"/forgot-password",color:"text.primary",children:"Forgot Password?"})]})}),r.submit&&e.jsx(o,{size:12,children:e.jsx(z,{error:!0,children:r.submit})}),e.jsx(o,{size:12,children:e.jsx(oe,{children:e.jsx(te,{disableElevation:!0,disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Login"})})})]})})})})}V.propTypes={forgot:ie.string};function Ie(){const{isLoggedIn:s}=U();return e.jsx(me,{children:e.jsxs(o,{container:!0,spacing:2,children:[e.jsx(o,{sx:{textAlign:"center"},size:12,children:e.jsx(ce,{})}),e.jsx(o,{size:12,children:e.jsx(de,{children:e.jsx(x,{variant:"body1",children:"---------"})})}),e.jsx(o,{size:12,children:e.jsxs(v,{direction:"row",sx:{justifyContent:"space-between",alignItems:"baseline",mb:{xs:-.5,sm:.5}},children:[e.jsx(x,{variant:"h3",children:"로그인"}),e.jsx(x,{component:W,to:s?"/auth/register":"/register",variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"Don't have an account?"})]})}),e.jsx(o,{size:12,children:e.jsx(V,{forgot:"/auth/forgot-password"})})]})})}export{Ie as default};
