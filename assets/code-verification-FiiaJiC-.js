import{R as g,a7 as U,j as n,G as h,B as J,bz as Q,a as X,S as B,T as y}from"./index-B4r2VmdQ.js";import{A as Y}from"./AuthWrapper-DsLPUGph.js";import{F as Z,c as ee,a as te}from"./formik.esm-CML5bJcM.js";import{F as ne}from"./FormHelperText-BMdZsmyD.js";import"./AuthBackground-BXMWMUfU.js";var z=function(r){return typeof r=="object"&&r!==null},re=function(r){var l=r.value,s=l===void 0?"":l,c=r.numInputs,a=c===void 0?4:c,m=r.onChange,p=r.onPaste,R=r.renderInput,F=r.shouldAutoFocus,k=F===void 0?!1:F,O=r.inputType,I=O===void 0?"text":O,w=r.renderSeparator,x=r.placeholder,j=r.containerStyle,b=r.inputStyle,V=r.skipDefaultStyles,W=V===void 0?!1:V,N=g.useState(0),u=N[0],A=N[1],v=g.useRef([]),S=function(){return s?s.toString().split(""):[]},T=I==="number"||I==="tel";g.useEffect(function(){v.current=v.current.slice(0,a)},[a]),g.useEffect(function(){var e;k&&((e=v.current[0])===null||e===void 0||e.focus())},[k]);var $=function(){if(typeof x=="string"){if(x.length===a)return x;x.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}},P=function(e){var t=T?!isNaN(Number(e)):typeof e=="string";return t&&e.trim().length===1},q=function(e){var t=e.target.value;P(t)&&(C(t),f(u+1))},M=function(e){var t=e.nativeEvent,i=e.target.value;if(!P(i)){if(i.length===a){var o=i.split("").some(function(d){return!P(d)});o||(E(i.split("")),f(a-1))}t.data===null&&t.inputType==="deleteContentBackward"&&(e.preventDefault(),C(""),f(u-1)),e.target.value=""}},_=function(e){return function(t){A(t),e.target.select()}},G=function(){A(u-1)},K=function(e){var t=S();[e.code,e.key].includes("Backspace")?(e.preventDefault(),C(""),f(u-1)):e.code==="Delete"?(e.preventDefault(),C("")):e.code==="ArrowLeft"?(e.preventDefault(),f(u-1)):e.code==="ArrowRight"||e.key===t[u]?(e.preventDefault(),f(u+1)):(e.code==="Spacebar"||e.code==="Space"||e.code==="ArrowUp"||e.code==="ArrowDown")&&e.preventDefault()},f=function(e){var t,i,o=Math.max(Math.min(a-1,e),0);v.current[o]&&((t=v.current[o])===null||t===void 0||t.focus(),(i=v.current[o])===null||i===void 0||i.select(),A(o))},C=function(e){var t=S();t[u]=e[0],E(t)},E=function(e){var t=e.join("");m(t)},L=function(e){var t;e.preventDefault();var i=S(),o=u,d=e.clipboardData.getData("text/plain").slice(0,a-u).split("");if(!(T&&d.some(function(H){return isNaN(Number(H))}))){for(var D=0;D<a;++D)D>=u&&d.length>0&&(i[D]=(t=d.shift())!==null&&t!==void 0?t:"",o++);f(o),E(i)}};return g.createElement("div",{style:Object.assign({display:"flex",alignItems:"center"},z(j)&&j),className:typeof j=="string"?j:void 0,onPaste:p},Array.from({length:a},function(e,t){return t}).map(function(e){var t,i,o;return g.createElement(g.Fragment,{key:e},R({value:(t=S()[e])!==null&&t!==void 0?t:"",placeholder:(o=(i=$())===null||i===void 0?void 0:i[e])!==null&&o!==void 0?o:void 0,ref:function(d){return v.current[e]=d},onChange:q,onFocus:function(d){return _(d)(e)},onBlur:G,onKeyDown:K,onPaste:L,autoComplete:"off","aria-label":"Please enter OTP character ".concat(e+1),style:Object.assign(W?{}:{width:"1em",textAlign:"center"},z(b)?b:{}),className:typeof b=="string"?b:void 0,type:I,inputMode:T?"numeric":"text",onInput:M},e),e<a-1&&(typeof w=="function"?w(e):w))}))};function ie(){const r=U();return n.jsx(Z,{initialValues:{otp:""},validationSchema:ee({otp:te().length(4,"OTP must be exactly 4 digits").required("OTP is required")}),onSubmit:(l,{resetForm:s})=>{s();const c=document.activeElement;c&&c.blur()},children:({errors:l,handleSubmit:s,touched:c,values:a,setFieldValue:m})=>n.jsx("form",{onSubmit:s,children:n.jsxs(h,{container:!0,spacing:3,children:[n.jsx(h,{size:12,children:n.jsxs(J,{sx:p=>({"& input:focus-visible":{outline:"none !important",borderColor:`${p.palette.primary.main} !important`,boxShadow:`${p.customShadows.primary} !important`}}),children:[n.jsx(re,{value:a.otp,onChange:p=>m("otp",p),inputType:"tel",shouldAutoFocus:!0,renderInput:p=>n.jsx("input",{...p}),numInputs:4,containerStyle:{justifyContent:"space-between",margin:-8},inputStyle:{width:"100%",margin:"8px",padding:"10px",border:"1px solid",outline:"none",borderRadius:4,borderColor:c.otp&&l.otp?r.palette.error.main:r.palette.divider}}),c.otp&&l.otp&&n.jsx(ne,{error:!0,id:"standard-weight-helper-text-otp",children:l.otp})]})}),n.jsx(h,{size:12,children:n.jsx(Q,{children:n.jsx(X,{disableElevation:!0,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Continue"})})}),n.jsx(h,{size:12,children:n.jsxs(B,{direction:"row",sx:{justifyContent:"space-between",alignItems:"baseline"},children:[n.jsx(y,{children:"Did not receive the email? Check your spam filter, or"}),n.jsx(y,{variant:"body1",sx:{minWidth:87,textDecoration:"none",cursor:"pointer"},color:"primary",children:"Resend code"})]})})]})})})}function ce(){let r=window.localStorage.getItem("email"),l=[];if(r){let s=r.split(""),c=s.indexOf("@");s.forEach((a,m)=>{m>=1&&m<=c-2?l.push("*"):l.push(s[m])})}return n.jsx(Y,{children:n.jsxs(h,{container:!0,spacing:3,children:[n.jsx(h,{size:12,children:n.jsxs(B,{sx:{gap:1},children:[n.jsx(y,{variant:"h3",children:"Enter Verification Code"}),n.jsx(y,{color:"secondary",children:"We send you on mail."})]})}),n.jsx(h,{size:12,children:n.jsxs(y,{children:["We`ve send you code on ",r&&l.length>0?l.join(""):"****@company.com"]})}),n.jsx(h,{size:12,children:n.jsx(ie,{})})]})})}export{ce as default};
